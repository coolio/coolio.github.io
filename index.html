<!DOCTYPE html>
<html>

<head>
    <title>Cool.io Event Framework for Ruby</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
<div id="main">
<div id="header"><img src="/images/logo.png" alt="cool.io"></div>
<div id="subheader">Cool event driven programming for Ruby</div>

<p>
  Do you like Sinatra? Do you like Node.js? Wish you could write Node.js apps in Ruby as easily as you write Sinatra apps? Let's ask Cool.io how.
</p>

<p>
    <a href="http://github.com/tarcieri/cool.io">Cool.io lives on Github</a>
</p>

<h1>A Quick Tour</h1>
<p class="coolio-sez">
    <img class="coolio" src="/images/coolio.png">
    <span class="coolio-blurb">Hi, I'm Coolio, the fabulously wealthy singer of Gangster's Paradise. Let's write an event-driven echo server:</span>
</p>
<script src="https://gist.github.com/707684.js"></script>

<hr>
<p class="coolio-sez">
    <img class="coolio" src="/images/coolio.png">
    <span class="coolio-blurb">See? Look at that, it's easy! But how's it work? Let's take a peek into the parts of my DSL:</span>
</p>
<p>
    <ul class="code-bullets">
        <li>
            <span class="code">cool.io.server</span> -
            This creates a new server that listens on the given host and port. When someone connects to our server,
            the callbacks specified in the block are fired for various events.
        </li>        
        <li>
            <span class="code">on_connect</span>, <span class="code">on_close</span>, <span class="code">on_read</span> -
            These are callbacks fired when events occur, specifically when we get a new connection to our echo
            server, when a connection closes, and when data is read from the network.
        </li>
        
        <li>
            <span class="code">cool.io.run</span> -
            This runs the default cool.io event loop. The event loop will block, waiting for events. In the case of our
            echo server, it will wait for incoming connections, and once it's received them, it will wait for the client
            to send data, the echo it back to the client.
        </li> 
    </ul>
</p>

<hr>
<p class+"coolio-sez">
    <img class="coolio" src="/images/coolio.png">
    <span class="coolio-blurb">Okay, now you understand the basics of writing servers. But how do we write clients?
        Let's write a client for our echo server:</span>
</p>
<script src="https://gist.github.com/708116.js"></script>

<hr>
<p class="coolio-sez">
    <img class="coolio" src="/images/coolio.png">
    <span class="coolio-blurb">Get it? Writing clients is a lot like writing servers. There's just a few differences:</span>
</p>
<p>
    <ul class="code-bullets">
        <li>
            <span class="code">cool.io.connect</span> -
            This tells me you want to connect to a remote server. Just give me an address, port, and a block of callbacks
        </li>
        
        <li>
            <span class="code">on_resolve_failed</span> and <span class="code">on_connect_failed</span> -
            These are callbacks fired when DNS fails to resolve or if we couldn't open a connection.
            <span class="code">on_connect_failed</span> will always get fired if the connection fails
            and <span class="code">on_resolve_failed</span> is a callback that lets you handle DNS resolution
            failures specifically.
        </li>
    </ul>
</p>

<hr>
<p class+"coolio-sez">
    <img class="coolio" src="/images/coolio.png">
    <span class="coolio-blurb">Aight, now write yourself some event driven code in Ruby!</span>
</p>

</div>
</body>
</html>
